@model HotelGarage.ViewModels.ParkingViewModel

@{
    ViewBag.Title = "Náhled garáže";
}

<h2>Venkovní Parkoviště</h2>
<br />


<div class="container">

    <div class="row">
        <div class="card">
            @Html.Partial("_ParkingPlace",Model.ParkingPlaceDtos[12])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[13])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[14])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[15])
        </div>
    </div>
    <div class="row">
        <div class="card">
             @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[19])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[21])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[22])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[24])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[16])
        </div>
    </div>
    <div class="row">
        <div class="parkovaciMistoPrazdne">
        </div>
        <div class="parkovaciMistoPrazdne">
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[23])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[25])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[17])
        </div>
    </div>
    <div class="row">
        <div class="parkovaciMistoPrazdne">
        </div>
        <div class="parkovaciMistoPrazdne">
        </div>
        <div class="parkovaciMistoPrazdne">
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[26])
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[18])
        </div>
    </div>
    <div class="row">
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[20])
        </div>
        <div class="parkovaciMistoPrazdne">
        </div>
        <div class="parkovaciMistoPrazdne">
        </div>
        <div class="card">
            @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[27])
        </div>
    </div>

</div>
<br /><br />

<h2>Garáž</h2>
<br />
<div class="container">
    <div class="row">
        <div class="col-auto">
            <div class="row">
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[11])
                </div>
                <div class="parkovaciMistoPrazdne">
                </div>
                <div class="parkovaciMistoPrazdne">
                </div>
            </div>
            <div class="row">
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[10])
                </div>
            </div>
            <div class="row">
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[9])
                </div>
                <div class="parkovaciMistoPrazdne">
                </div>
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[0])
                </div>
            </div>
            <div class="row">
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[8])
                </div>
                <div class="parkovaciMistoPrazdne">
                </div>
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[1])
                </div>
            </div>
            <div class="row">
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[7])
                </div>
                <div class="parkovaciMistoPrazdne">
                </div>
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[2])
                </div>
            </div>
            <div class="row">
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[6])
                </div>
                <div class="parkovaciMistoPrazdne">
                </div>
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[3])
                </div>
            </div>
            <div class="row">
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[5])
                </div>
                <div class="parkovaciMistoPrazdne">
                </div>
                <div class="card">
                    @Html.Partial("_ParkingPlace", Model.ParkingPlaceDtos[4])
                </div>
            </div>
        </div>
        
        <div class="col-auto">
            <br /><br />
            <h2>Rezervace na dnešek</h2>
            <br />
            <div>
                @{int i = 0;}
                @foreach (var reservation in Model.TodaysReservations)
                {
                    <div class="row">
                        <div class="alert alert-warning " role="alert">
                            SPZ: @reservation.CarLicensePlate;<br />
                            Místo: @reservation.ParkingPlaceName<br />
                            Host: @reservation.CarGuestsName
                        </div>
                        <div class="">
                            <div class="input-group" style="margin-top:10px">
                                @Html.DropDownListFor(r => r.ParkingPlaceName,
                                    new SelectList(Model.FreeParkingPlaces),
                                    new {@class="custom-select", @id="inputGroupSelect04",
                                        value = reservation.ParkingPlaceId, value_id=i })
                                <div class="input-group-append">
                                    <button id="select-link" data-id='@reservation.Id'
                                            class="btn btn-primary select-link" type="submit" value-id='@i'>
                                        Přiřadit Nove
                                    </button>
                                </div>
                            </div>
                            <div>
                                <div style="text-align:center">
                                    @Html.ActionLink("Check In",
                                        "CheckIn",
                                        "Parking",
                                        new { pPlaceId = reservation.ParkingPlaceId,
                                            reservationId = reservation.Id},
                                        new { @class = "nav-link"})
                                </div>
                            </div>
                        </div>
                    </div>
                    i++;
                }
            </div>
    </div>
    </div>
</div>
@Html.ActionLink("Check In",
"CheckIn",
"Parking",
new { pPlaceId = 14, reservationId = 18},
new { @class = "btn btn-primary" })
<br />


@Html.ActionLink("Nová Rezervace",
    "Create",
    "Reservations",
    new { Reservations = Model },
    new { @class = "btn btn-primary"})
